<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¹ÙŠØ¯Ùƒ Ù…Ø¨Ø§Ø±Ùƒ</title>

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Tajawal', sans-serif;
  background:#fbf6e8;
  color:#4b3b2a;
  min-height:100vh;
  overflow-x:hidden;
}

.container{
  max-width:420px;
  margin:0 auto;
  padding:26px 18px 32px;
  position:relative;
  z-index:2;
}

/* ===== ØªØ£Ø«ÙŠØ± Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ===== */
.section{
  opacity:0;
  transform:translateY(14px);
  animation:fadeUp .7s ease forwards;
}

.section.delay1{animation-delay:.1s}
.section.delay2{animation-delay:.2s}
.section.delay3{animation-delay:.3s}
.section.delay4{animation-delay:.4s}

/* ===== ØªØ±Ø­ÙŠØ¨ ===== */
.eid-welcome{
  text-align:center;
  margin-bottom:18px;
}

.eid-welcome h1{
  font-size:23px;
  font-weight:600;
  margin:0 0 4px;
}

.moon{
  font-size:20px;
  margin-bottom:6px;
}

.eid-welcome p{
  font-size:15.5px;
  opacity:.9;
  line-height:1.6;
}

/* ===== ØµÙˆØ±Ø© ===== */
.eid-image{
  text-align:center;
  margin:20px 0 22px;
}

.eid-image img{
  width:210px;
  max-width:90%;
  border-radius:16px;
}

/* ===== Ø±Ø³Ø§Ù„Ø© ===== */
.message-box{
  margin-bottom:24px;
}

.message-row{
  display:flex;
  gap:8px;
}

.message-row input{
  flex:1;
  padding:11px 14px;
  font-size:14.5px;
  border-radius:14px;
  border:1px solid #d6c6a5;
}

.send-btn{
  padding:0 16px;
  font-size:14.5px;
  border-radius:14px;
  border:none;
  background:#7a9b7e;
  color:white;
  cursor:pointer;
}

.send-btn:hover{background:#688c6d}

.thanks{
  text-align:center;
  font-size:17.5px;
  font-weight:600;
  margin-top:10px;
}

/* ===== Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ===== */
.stats{
  background:#fff;
  border-radius:15px;
  padding:12px 14px;
  margin-bottom:22px;
  box-shadow:0 4px 10px rgba(0,0,0,.05);
}

.stats h3{
  text-align:center;
  font-size:15.8px;
  margin-bottom:10px;
}

.stat{
  display:flex;
  justify-content:space-between;
  font-size:14px;
  margin-bottom:6px;
}

/* ===== ÙˆØ¯Ø§Ø¹ ===== */
.goodbye{
  text-align:center;
  font-size:15px;
  opacity:.85;
  margin-top:10px;
}

/* ===== Ø¨Ø§Ù„ÙˆÙ†Ø§Øª Ù‚Ø¯ÙŠÙ…Ø© (Ø¯ÙˆØ§Ø¦Ø±) ===== */
#balloons{
  position:fixed;
  inset:0;
  z-index:1;
  pointer-events:none;
}

/* ===== Ø£Ù†ÙŠÙ…ÙŠØ´Ù† ===== */
@keyframes fadeUp{
  from{opacity:0; transform:translateY(10px);}
  to{opacity:1; transform:translateY(0);}
}
</style>
</head>

<body>

<canvas id="balloons"></canvas>

<div class="container">

  <div class="eid-welcome section delay1">
    <h1 id="welcomeText">Ø¹ÙŠØ¯Ùƒ Ù…Ø¨Ø§Ø±Ùƒ</h1>
    <div class="moon">ğŸŒ™</div>
    <p>ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ø·Ø§Ø¹ØªÙƒÙ… ÙˆØ£Ø¹Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙƒÙ… Ø§Ù„Ø¹ÙŠØ¯ Ø¨Ø§Ù„Ø®ÙŠØ±</p>
  </div>

  <div class="eid-image section delay2">
    <img src="https://raw.githubusercontent.com/sliyi6dkxy/Ramadan26/main/Picsart_25-03-25_22-21-41-520.png">
  </div>

  <div class="message-box section delay3" id="messageBox"></div>

  <div class="stats section delay4">
    <h3>Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ</h3>
    <div class="stat"><span>â­ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¯Ø®ÙˆÙ„</span><span>â€”</span></div>
    <div class="stat"><span>ğŸ¯ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</span><span>â€”</span></div>
    <div class="stat"><span>ğŸŸ¢ Ø£ÙŠØ§Ù… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</span><span>â€”</span></div>
    <div class="stat"><span>ğŸ•°ï¸ Ø£ÙˆÙ„ Ø²ÙŠØ§Ø±Ø©</span><span>â€”</span></div>
  </div>

  <div class="goodbye section delay4">
    Ù†Ø³Ø¹Ø¯ Ø¨ÙˆØ¬ÙˆØ¯Ùƒ Ù…Ø¹Ù†Ø§ØŒ ÙˆÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†Øª Ø¨Ø®ÙŠØ± ğŸ¤
  </div>

</div>

<script>
  // Ù…Ù†Ø¹ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‚Ø¨Ù„ ÙˆÙ‚Øª Ø§Ù„Ø¹ÙŠØ¯
if (!localStorage.getItem("eid_ready")) {
  alert("â³ Ø§Ù„Ø¹ÙŠØ¯ Ù„Ù… ÙŠØ­Ù† ÙˆÙ‚ØªÙ‡ Ø¨Ø¹Ø¯");
  window.location.href = "index.html";
}
/* ===== Ø§Ù„Ø§Ø³Ù… ===== */
const NAME_KEY = "ramadan_user_name";
const MESSAGE_SENT_KEY = "eid_message_sent";

const name = localStorage.getItem(NAME_KEY) || "Ø¶ÙŠÙÙ†Ø§ Ø§Ù„ÙƒØ±ÙŠÙ…";
document.getElementById("welcomeText").textContent = `Ø¹ÙŠØ¯Ùƒ Ù…Ø¨Ø§Ø±Ùƒ ÙŠØ§ ${name}`;
  // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
const userPoints = localStorage.getItem("user_points") || 0;
const userAchievements = localStorage.getItem("user_achievements") || 0;
const userName = localStorage.getItem("ramadan_user_name") || "Ø¶ÙŠÙÙ†Ø§ Ø§Ù„ÙƒØ±ÙŠÙ…";
 /* ===== ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ===== */
const statsElements = document.querySelectorAll(".stats .stat span:last-child");

if(statsElements.length >= 4){
  statsElements[0].textContent = userPoints;              // Ù†Ù‚Ø§Ø· Ø§Ù„Ø¯Ø®ÙˆÙ„
  statsElements[1].textContent = userAchievements;        // Ù†Ù‚Ø§Ø· Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²
  statsElements[2].textContent = userAchievements;        // Ø£ÙŠØ§Ù… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² (Ù…Ø¤Ù‚ØªØ§Ù‹ Ù†ÙØ³ Ø§Ù„Ù‚ÙŠÙ…Ø©)
  statsElements[3].textContent =
    localStorage.getItem("first_visit_date") || "Ø±Ù…Ø¶Ø§Ù†"; // Ø£ÙˆÙ„ Ø²ÙŠØ§Ø±Ø©
}

/* ===== Ø§Ù„Ø±Ø³Ø§Ù„Ø© ===== */
const box = document.getElementById("messageBox");

function renderMessageBox(){
  if(localStorage.getItem(MESSAGE_SENT_KEY)){
    box.innerHTML = `<div class="thanks">Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„ØªÙƒ ğŸ¤</div>`;
  }else{
    box.innerHTML = `
      <div class="message-row">
        <input id="userMessage" placeholder="Ø¶Ø¹ Ø±Ø³Ø§Ù„ØªÙƒ Ù„Ù†Ø§ ğŸŒ¸">
        <button class="send-btn" onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
      </div>
    `;
  }
}

function sendMessage(){
  const input = document.getElementById("userMessage");
  if(!input.value.trim()) return;
  localStorage.setItem(MESSAGE_SENT_KEY,"1");
  renderMessageBox();
}

renderMessageBox();

/* ===== Ø¨Ø§Ù„ÙˆÙ†Ø§Øª Ù‚Ø¯ÙŠÙ…Ø© (Ø¯ÙˆØ§Ø¦Ø± Ù…Ù„ÙˆÙ‘Ù†Ø©) ===== */
const canvas = document.getElementById("balloons");
const ctx = canvas.getContext("2d");

canvas.width = innerWidth;
canvas.height = innerHeight;

let circles = Array.from({length:22},()=>({
  x:Math.random()*canvas.width,
  y:canvas.height+Math.random()*200,
  r:6+Math.random()*8,
  s:0.6+Math.random()*1.2,
  c:`hsl(${Math.random()*360},70%,70%)`
}));

let anim;
function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  circles.forEach(c=>{
    ctx.beginPath();
    ctx.arc(c.x,c.y,c.r,0,Math.PI*2);
    ctx.fillStyle=c.c;
    ctx.fill();
    c.y-=c.s;
    if(c.y<-20) c.y=canvas.height+40;
  });
  anim=requestAnimationFrame(animate);
}
animate();

setTimeout(()=>{
  cancelAnimationFrame(anim);
  ctx.clearRect(0,0,canvas.width,canvas.height);
},20000);
</script>

</body>
</html>
