<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØµÙˆØ± Ø§Ù„ØªÙƒØ¨ÙŠØ±</title>
<style>
body{
  margin:0;
  font-family:'Tajawal', sans-serif;
  background:#fbf6e8;
  color:#4b3b2a;
  text-align:center;
  padding:20px;
}
input, button{
  padding:10px;
  font-size:16px;
  margin:5px;
  border-radius:10px;
}
button{cursor:pointer; background:#7a9b7e; color:white; border:none;}
button:hover{background:#688c6d}

/* ===== Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ===== */
.message h1{font-size:22px;}
.message p{font-size:16px; opacity:.9; margin:5px 0;}

/* ===== Ø§Ù„Ø¹Ø¯Ø§Ø¯ ===== */
.counter-box{
  background:#fff;
  border-radius:16px;
  padding:14px 12px;
  text-align:center;
  margin:15px 0;
  box-shadow:0 5px 12px rgba(0,0,0,.06);
}
.counter-time{font-size:22px; font-weight:600;}

/* ===== Ø§Ù„ØµÙˆØ± ===== */
.image-row{
  display:flex;
  gap:10px;
  overflow-x:auto;
  margin:15px 0;
}
.image-row img{
  flex:0 0 45%;
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 4px 10px rgba(0,0,0,.15);
  transition:transform .2s;
}
.image-row img:active{transform:scale(.97);}

/* ===== Lightbox ===== */
#lightbox{
  position:fixed; inset:0;
  background:rgba(0,0,0,.75);
  display:none;
  align-items:center; justify-content:center;
  z-index:999;
}
#lightbox img{
  max-width:90%;
  max-height:85%;
  border-radius:12px;
  animation:zoomIn .3s ease;
}
@keyframes zoomIn{
  from{transform:scale(.85); opacity:0}
  to{transform:scale(1); opacity:1}
}
</style>
</head>
<body>

<div id="registerBox">
  <div class="message">
    <h1>Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ğŸŒ™</h1>
    <p>Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„ÙŠÙˆÙ…</p>
  </div>
  <input type="text" id="username" placeholder="Ø§Ø³Ù…Ùƒ">
  <button onclick="saveName()">Ù…ØªØ§Ø¨Ø¹Ø©</button>
</div>

<div id="welcomeBox" style="display:none;"></div>

<!-- Lightbox -->
<div id="lightbox" onclick="closeLightbox()">
  <img id="lightboxImg">
</div>

<script>
const STORAGE_KEY = "ramadan_user_name";
const FAJR_TIME = "05:12";
const MAGHRIB_TIME = "18:47";

function saveName(){
  const name = document.getElementById("username").value.trim();
  if(!name) return;
  localStorage.setItem(STORAGE_KEY,name);
  showWelcome(name);
}

function showWelcome(name){
  document.getElementById("registerBox").style.display="none";
  const box = document.getElementById("welcomeBox");
  box.style.display="block";

  box.innerHTML = `
    <div class="message">
      <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ ${name} ğŸŒ™</h1>
      <p>Ù†Ø³Ø£Ù„ Ø§Ù„Ù„Ù‡ Ø£Ù† ÙŠØ¨Ø§Ø±Ùƒ Ù„Ùƒ Ø§Ù„ÙŠÙˆÙ…</p>
    </div>

    <div class="counter-box">
      <div>â³ Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø£Ø°Ø§Ù† Ø§Ù„Ù…ØºØ±Ø¨</div>
      <div class="counter-time" id="counterTime">-- : -- : --</div>
    </div>

    <div class="image-row">
      <img src="https://raw.githubusercontent.com/sliyi6dkxy/Ramadan26/main/Picsart_25-03-25_22-21-41-520.png" onclick="openLightbox(this.src)">
      <img src="https://raw.githubusercontent.com/sliyi6dkxy/Ramadan26/main/Picsart_25-03-25_22-21-41-520.png" onclick="openLightbox(this.src)">
    </div>
  `;
  startCounter();
}

function startCounter(){
  const timeEl = document.getElementById("counterTime");
  const [mh, mm] = MAGHRIB_TIME.split(":").map(Number);

  function update(){
    const now = new Date();
    const maghrib = new Date(now.getFullYear(), now.getMonth(), now.getDate(), mh, mm);
    let diff = maghrib - now;
    if(diff<0) diff=0;
    const h = String(Math.floor(diff/3600000)).padStart(2,"0");
    const m = String(Math.floor((diff%3600000)/60000)).padStart(2,"0");
    const s = String(Math.floor((diff%60000)/1000)).padStart(2,"0");
    timeEl.textContent=`${h} : ${m} : ${s}`;
  }
  update();
  setInterval(update,1000);
}

/* Lightbox */
function openLightbox(src){
  document.getElementById("lightboxImg").src=src;
  document.getElementById("lightbox").style.display="flex";
}
function closeLightbox(){
  document.getElementById("lightbox").style.display="none";
}

/* ØªØ­Ù…ÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯ Ø§Ø³Ù… */
window.onload=()=>{
  const name=localStorage.getItem(STORAGE_KEY);
  if(name) showWelcome(name);
};
</script>
</body>
</html>
