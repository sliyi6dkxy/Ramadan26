<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù†</title>

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Tajawal', sans-serif;
  background:#fbf6e8;
  color:#4b3b2a;
  min-height:100vh;
  text-align:center;
  body{
  padding-bottom: 100px;
}

.container{
  max-width:420px;
  margin:0 auto;
  padding:20px 18px 24px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
}

/* ===== Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¯Ø®ÙˆÙ„ Ø§Ù„ØµÙØ­Ø© ===== */
.page-enter{
  opacity:0;
  transform:translateY(40px);
}
.page-enter-active{
  opacity:1;
  transform:translateY(0);
  transition:opacity .8s ease, transform .8s ease;
}

/* Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
.message{
  margin-bottom:22px;
  text-align:center;
  position:relative;
}
.message .moon{
  font-size:27px;
  margin-bottom:6px;
  display:inline-block;
  animation:moonFloat 2s ease-in-out infinite alternate;
}
@keyframes moonFloat{
  0%{ transform:translateY(0);}
  50%{ transform:translateY(-8px);}
  100%{ transform:translateY(0);}
}
.message h1{ font-size:24px; font-weight:600; margin:6px 0; }
.message p{ font-size:17px; line-height:1.7; margin:0; opacity:.9; }

/* Ø§Ù„ØªØ³Ø¬ÙŠÙ„ */
.register-box{ text-align:center; margin-top:14px; }
.register-box .subtitle{ font-size:16.5px; line-height:1.8; margin-bottom:18px; }
.input-group{ display:flex; gap:10px; }
input{ flex:1; padding:12px 16px; font-size:15.5px; border-radius:20px; border:1px solid #d6c6a5; outline:none; }
button{ padding:12px 18px; font-size:15.5px; border-radius:20px; border:none; background:#7a9b7e; color:white; cursor:pointer; }
button:hover{ background:#688c6d; }
.hidden{ display:none; }

/* Ø§Ù„Ø¹Ø¯Ø§Ø¯ */
.counter-box{
  background:#fff;
  border-radius:16px;
  padding:14px 12px;
  margin:10px 0 20px;
  box-shadow:0 5px 12px rgba(0,0,0,.06);
}
.counter-title{ font-size:15.5px; margin-bottom:4px; }
.counter-time{ font-size:22px; font-weight:600; letter-spacing:2px; margin:6px 0; }
.counter-note{ font-size:14.5px; opacity:.9; }

/* Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ */
.hijri-date{
  font-size:15px;
  margin-bottom:4px;
  color:#4b3b2a;
  opacity:.9;
}

/* ÙØ§ØµÙ„ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ */
.section-separator{
  margin:30px 0 24px;
  position:relative;
}
.separator-bg{
  height:50px;
  width:220px;
  margin:0 auto;
  border-radius:25px;
  background: linear-gradient(270deg,#7a9b7e,#a7c4a0,#7a9b7e);
  background-size:600% 600%;
  animation:gradientShift 6s ease infinite;
  box-shadow: 0 5px 15px rgba(0,0,0,0.15);
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
}
@keyframes gradientShift{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
.separator-text{
  font-size:16px;
  font-weight:600;
  color:#fff;
  z-index:2;
  padding:0 20px;
}
.separator-icon{
  position:absolute;
  font-size:20px;
  color:#fff;
  left:12px;
  animation:floatSide 2.5s ease-in-out infinite alternate;
}
@keyframes floatSide{
  0%{transform:translate(0,0);}
  25%{transform:translate(12px,-5px);}
  50%{transform:translate(0,-8px);}
  75%{transform:translate(-12px,-5px);}
  100%{transform:translate(0,0);}
}

/* ÙˆØ±Ø¯ Ø§Ù„ÙŠÙˆÙ… */
.wird-box{
  background:#fff;
  border-radius:16px;
  padding:10px 14px;
  margin-bottom:20px;
  box-shadow:0 4px 10px rgba(0,0,0,.05);
  display:inline-block;
  max-width:100%;
  text-align:center;
  line-height:1.5;
  font-size:15px;
}
.wird-box h2{ font-size:17px; margin-bottom:4px; }
.wird-box p{ font-size:14.5px; margin:0; }

/* Ø§Ù„ØµÙˆØ± */
.images-box{
  display:flex;
  gap:10px;
  justify-content:center;
  margin-bottom:6px;
}
.images-box img{
  width:48%;
  border-radius:14px;
  object-fit:cover;
  box-shadow:0 4px 8px rgba(0,0,0,.08);
  cursor:pointer;
  transition: transform .3s;
}
.images-box img:hover{ transform:scale(1.05); }
.image-note{ font-size:13px; color:#666; margin-bottom:18px; }

/* Ø§Ù„Ø­Ø¯ÙŠØ« */
.hadith-box{
  background:#fff;
  border-radius:16px;
  padding:10px 14px;
  font-size:15px;
  line-height:1.5;
  box-shadow:0 4px 10px rgba(0,0,0,.05);
  display:inline-block;
  max-width:100%;
  text-align:center;
}

/* Lightbox */
#lightbox{
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,.8);
  justify-content:center;
  align-items:center;
  z-index:9999;
  animation:fadeIn .3s;
}
#lightbox img{
  max-width:90%;
  max-height:90%;
  border-radius:10px;
  animation:zoomIn .3s;
}
@keyframes fadeIn{
  from{opacity:0;}
  to{opacity:1;}
}
@keyframes zoomIn{
  from{transform:scale(0.7); opacity:0;}
  to{transform:scale(1); opacity:1;}
}
  .wird-btn{
/* Ø²Ø± ÙˆØ±Ø¯ Ø§Ù„ÙŠÙˆÙ… */
.wird-btn{
  padding:8px 16px;       
  border-radius:20px;
  border:none;
  background:#7a9b7e;      /* Ø£Ø®Ø¶Ø± ÙØ§ØªØ­ */
  color:white;
  font-size:14px;
  cursor:pointer;
  transition:.3s;
}

.wird-btn:hover{
  background:#688c6d;
}

.wird-btn.done{
  background:#3c5d3f;      /* Ø£Ø®Ø¶Ø± Ù‚Ø§ØªÙ… Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² */
  color:#fff;
  cursor:default;
}

/* Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªØ­Øª Ø§Ù„Ø²Ø± */
#wirdMessage {
  font-size: 15px;        
  color: #4b3b2a;         
  margin-top:5px;
  line-height:1.5;
}
/* ===== Ù…Ø³ØªØ·ÙŠÙ„ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹ÙŠØ¯ (Ø«Ø§Ø¨Øª Ø£Ø³ÙÙ„ Ø§Ù„ØµÙØ­Ø©) ===== */
.eid-strip {
  position: fixed;              /* ØªØ«Ø¨ÙŠØª Ø£Ø³ÙÙ„ Ø§Ù„Ø´Ø§Ø´Ø© */
  bottom: 12px;
  left: 50%;
  transform: translateX(-50%);

  width: 320px;                 /* Ù†ÙØ³ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ·ÙŠÙ„Ø§Øª */
  height: 70px;
  background: #fff;             /* Ø£Ø¨ÙŠØ¶ */
  border-radius: 16px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.08);

  display: flex;
  flex-direction: column;
  justify-content: center;      /* ØªÙˆØ³ÙŠØ· Ø±Ø£Ø³ÙŠ */
  align-items: center;          /* ØªÙˆØ³ÙŠØ· Ø£ÙÙ‚ÙŠ */
  padding: 6px 0;

  z-index: 999;                 /* ÙÙˆÙ‚ ÙƒÙ„ Ø§Ù„Ø¹Ù†Ø§ØµØ± */
}

/* Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ø¯Ø§Ø¯ */
.eid-strip-title {
  font-size: 17px;
  font-weight: 600;
  color: #4b3b2a;
  margin-bottom: 4px;
}

/* Ø§Ù„ÙˆÙ‚Øª */
.eid-strip-time {
  font-size: 19px;
  font-weight: 600;
  letter-spacing: 1px;
  color: #4b3b2a;
  font-variant-numeric: tabular-nums;
  display: flex;
  gap: 8px;
}
</style>
</head>

<body>

<div class="container">

  <div id="registerBox">
    <div class="message">
      <div class="moon">ğŸŒ™</div>
      <h1>Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…</h1>
      <p>Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„ÙŠØµÙ„Ùƒ ÙƒÙ„ Ø¬Ø¯ÙŠØ¯ ÙŠÙˆÙ…ÙŠÙ‹Ø§ Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ</p>
    </div>

    <div class="register-box">
      <div class="subtitle">Ù…ØªØ§Ø¨Ø¹Ø© Ø®ÙÙŠÙØ© â€¢ ØªØ°ÙƒÙŠØ± â€¢ Ø£Ø¬Ø± Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡</div>
      <div class="input-group">
        <input type="text" id="username" placeholder="Ø§Ø³Ù…Ùƒ">
        <button onclick="saveName()">Ù…ØªØ§Ø¨Ø¹Ø©</button>
      </div>
    </div>
  </div>

  <div id="welcomeBox" class="hidden"></div>

</div>

<!-- Lightbox -->
<div id="lightbox" onclick="this.style.display='none'">
  <img id="lightbox-img" src="">
</div>

<script>
const STORAGE_KEY = "ramadan_user_name";

// ====== Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„ÙˆØ§Øª ======
const PRAYER_TIMES = {
  Fajr: "05:52",
  Dhuhr: "12:20",
  Asr: "15:35",
  Maghrib: "18:40",
  Isha: "20:00"
};

// Ø£ÙˆÙ„ ÙŠÙˆÙ… Ø±Ù…Ø¶Ø§Ù†
const firstRamadanDate = new Date("2026-01-13"); // Ø¶Ø¹ Ù‡Ù†Ø§ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ Ù„Ø£ÙˆÙ„ ÙŠÙˆÙ… Ø±Ù…Ø¶Ø§Ù†

const hijriDates = [
  "1 Ø±Ù…Ø¶Ø§Ù†", "2 Ø±Ù…Ø¶Ø§Ù†", "3 Ø±Ù…Ø¶Ø§Ù†", "4 Ø±Ù…Ø¶Ø§Ù†", "5 Ø±Ù…Ø¶Ø§Ù†",
  "6 Ø±Ù…Ø¶Ø§Ù†", "7 Ø±Ù…Ø¶Ø§Ù†", "8 Ø±Ù…Ø¶Ø§Ù†", "9 Ø±Ù…Ø¶Ø§Ù†", "10 Ø±Ù…Ø¶Ø§Ù†",
  "11 Ø±Ù…Ø¶Ø§Ù†", "12 Ø±Ù…Ø¶Ø§Ù†", "13 Ø±Ù…Ø¶Ø§Ù†", "14 Ø±Ù…Ø¶Ø§Ù†", "15 Ø±Ù…Ø¶Ø§Ù†",
  "16 Ø±Ù…Ø¶Ø§Ù†", "17 Ø±Ù…Ø¶Ø§Ù†", "18 Ø±Ù…Ø¶Ø§Ù†", "19 Ø±Ù…Ø¶Ø§Ù†", "20 Ø±Ù…Ø¶Ø§Ù†",
  "21 Ø±Ù…Ø¶Ø§Ù†", "22 Ø±Ù…Ø¶Ø§Ù†", "23 Ø±Ù…Ø¶Ø§Ù†", "24 Ø±Ù…Ø¶Ø§Ù†", "25 Ø±Ù…Ø¶Ø§Ù†",
  "26 Ø±Ù…Ø¶Ø§Ù†", "27 Ø±Ù…Ø¶Ø§Ù†", "28 Ø±Ù…Ø¶Ø§Ù†", "29 Ø±Ù…Ø¶Ø§Ù†", "30 Ø±Ù…Ø¶Ø§Ù†"
];

// Ø­ÙØ¸ Ø§Ù„Ø§Ø³Ù…
function saveName(){
  const name = document.getElementById("username").value.trim();
  if(!name) return;
  localStorage.setItem(STORAGE_KEY, name);
  showWelcome(name,true);
}

// Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
function showWelcome(name, firstTime){
  document.getElementById("registerBox").classList.add("hidden");
  const box = document.getElementById("welcomeBox");
  box.classList.remove("hidden");

  if(firstTime){
    box.classList.add("page-enter");
    requestAnimationFrame(()=> box.classList.add("page-enter-active"));
  }

  // Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
  const today = new Date();
  const dayDiff = Math.floor((today-firstRamadanDate)/(1000*60*60*24));
  let hijriDay = (dayDiff>=0 && dayDiff<hijriDates.length)
  ? `Ø§Ù„ÙŠÙˆÙ… : ${hijriDates[dayDiff]} 1447`
  : "";

  box.innerHTML = `
    <div class="message">
      <div class="moon">ğŸŒ™</div>
      <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ ${name}</h1>
      <p>${firstTime?"Ù†Ø³Ø£Ù„ Ø§Ù„Ù„Ù‡ Ø£Ù† ÙŠØ¨Ø§Ø±Ùƒ Ù„Ùƒ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±":"Ù†Ø³Ø£Ù„ Ø§Ù„Ù„Ù‡ Ø£Ù† ÙŠÙƒØªØ¨ Ù„Ùƒ Ø§Ù„Ø£Ø¬Ø± Ø§Ù„ÙŠÙˆÙ…"}</p>
    </div>

    <div class="hijri-date">ğŸ—“ ${hijriDay}</div>

    <div class="counter-box">
      <div class="counter-title" id="counterTitle"></div>
      <div class="counter-time" id="counterTime">-- : -- : --</div>
      <div class="counter-note" id="counterNote"></div>
    </div>

    <div class="section-separator">
      <div class="separator-bg">
        <span class="separator-icon">ğŸŒ¿</span>
        <span class="separator-text">ğŸ’« Ù„Ø­Ø¸Ø§Øª Ù…Ø¨Ø§Ø±ÙƒØ©â€¦ 3 Ø¯Ù‚Ø§Ø¦Ù‚ Ù…Ù† ÙˆÙ‚ØªÙƒ</span>
      </div>
    </div>

    <div class="wird-box">
      <h2>ğŸ“– ÙˆØ±Ø¯ Ø§Ù„ÙŠÙˆÙ…</h2>
      <p>
        Ø§Ø¬Ø¹Ù„ Ù„Ùƒ Ù„Ø­Ø¸Ø© Ù‡Ø§Ø¯Ø¦Ø©ØŒ Ø§ÙØªØ­ Ø§Ù„Ù…ØµØ­ÙØŒ  
        ÙˆØ§Ù‚Ø±Ø£ Ù…Ø§ ØªÙŠØ³Ù‘Ø± Ø¨Ù†ÙŠØ© Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù† Ø§Ù„Ù„Ù‡.
      </p>
    </div>

    <div class="images-box">
      <img src="https://images.unsplash.com/photo-1542816417-0983c9c9ad53" alt="">
      <img src="https://images.unsplash.com/photo-1509021436665-8f07dbf5bf1d" alt="">
    </div>
    <div class="image-note">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ù„ØªÙƒØ¨ÙŠØ±Ù‡Ø§</div>

    <div class="hadith-box">
      Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º  
      <br>
      Â«Ø§Ù‚Ø±Ø¤ÙˆØ§ Ø§Ù„Ù‚Ø±Ø¢Ù† ÙØ¥Ù†Ù‡ ÙŠØ£ØªÙŠ ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø© Ø´ÙÙŠØ¹Ù‹Ø§ Ù„Ø£ØµØ­Ø§Ø¨Ù‡Â»
    </div>
<!-- ğŸ‰ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹ÙŠØ¯ -->
<div class="eid-strip">
  <div class="eid-strip-title">ğŸ‰ Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¹ÙŠØ¯ + Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø©</div>
  <div class="eid-strip-time">
    <span id="eidSeconds">00</span> :
    <span id="eidMinutes">00</span> :
    <span id="eidHours">00</span> :
    <span id="eidDays">00</span>
  </div>
</div>
  `;

  window.scrollTo(0,0);
  startCounter();
  initLightbox();
  startEidCounter();
}

// Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„ÙˆØ§Øª
function startCounter(){
  const title = document.getElementById("counterTitle");
  const timeEl = document.getElementById("counterTime");
  const note = document.getElementById("counterNote");

  function update(){
    const now = new Date();

    // ØªØ­ÙˆÙŠÙ„ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ØµÙ„Ø§Ø© Ø¥Ù„Ù‰ ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ…
    const prayersToday = {};
    for(const [key,value] of Object.entries(PRAYER_TIMES)){
      const [h,m] = value.split(":").map(Number);
      prayersToday[key] = new Date(now.getFullYear(), now.getMonth(), now.getDate(), h, m);
    }

    // ØªØ±ØªÙŠØ¨ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø­Ø³Ø¨ Ø§Ù„ÙˆÙ‚Øª
    const upcomingPrayers = Object.entries(prayersToday)
      .filter(([k,t])=> t>now)
      .sort((a,b)=> a[1]-b[1]);

    let nextPrayer;
    if(upcomingPrayers.length>0){
      nextPrayer = upcomingPrayers[0];
    } else {
      // Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Øª ÙƒÙ„ Ø§Ù„ØµÙ„ÙˆØ§ØªØŒ Ù†Ø¨Ø¯Ø£ Ù…Ù† Ø§Ù„ÙØ¬Ø± ØºØ¯Ù‹Ø§
      const [fh,fm] = PRAYER_TIMES.Fajr.split(":").map(Number);
      nextPrayer = ["Fajr", new Date(now.getFullYear(), now.getMonth(), now.getDate()+1, fh, fm)];
    }

    const diff = nextPrayer[1]-now;
    const h = String(Math.floor(diff/3600000)).padStart(2,"0");
    const m = String(Math.floor((diff%3600000)/60000)).padStart(2,"0");
    const s = String(Math.floor((diff%60000)/1000)).padStart(2,"0");

    timeEl.textContent = `${s} : ${m} : ${h}`;

    // Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
    let prayerName = "";
    switch(nextPrayer[0]){
      case "Fajr": prayerName="ğŸŒ™ Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø£Ø°Ø§Ù† Ø§Ù„ÙØ¬Ø±"; break;
      case "Dhuhr": prayerName="â˜€ï¸ Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø£Ø°Ø§Ù† Ø§Ù„Ø¸Ù‡Ø±"; break;
      case "Asr": prayerName="ğŸŒ… Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø£Ø°Ø§Ù† Ø§Ù„Ø¹ØµØ±"; break;
      case "Maghrib": prayerName="â³ï¸ Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø£Ø°Ø§Ù† Ø§Ù„Ù…ØºØ±Ø¨"; break;
      case "Isha": prayerName="ğŸ•Œ Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø£Ø°Ø§Ù† Ø§Ù„Ø¹Ø´Ø§Ø¡"; break;
    }
    title.textContent = prayerName;

// ===== Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø­Ø³Ø¨ ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ÙŠÙˆÙ… =====
const nowMinutes = now.getHours() * 60 + now.getMinutes();

const fajrMinutes =
  prayersToday.Fajr.getHours() * 60 + prayersToday.Fajr.getMinutes();

const dhuhrMinutes =
  prayersToday.Dhuhr.getHours() * 60 + prayersToday.Dhuhr.getMinutes();

const asrMinutes =
  prayersToday.Asr.getHours() * 60 + prayersToday.Asr.getMinutes();

const maghribMinutes =
  prayersToday.Maghrib.getHours() * 60 + prayersToday.Maghrib.getMinutes();

// Ù…Ù† 12:00 Ø¥Ù„Ù‰ 5:30 ØµØ¨Ø§Ø­Ù‹Ø§ â€” Ø§Ù„Ø³Ø­ÙˆØ±
if (nowMinutes >= 0 && nowMinutes < 330) {
  note.textContent = "ğŸŒ™ ÙˆÙ‚Øª Ø§Ù„Ø³Ø­ÙˆØ± â€” Ø§Ø¬Ø¹Ù„ Ù†ÙŠØªÙƒ Ø®Ø§Ù„ØµØ©ØŒ ÙØ§Ù„Ø³Ø­ÙˆØ± Ø¨Ø±ÙƒØ©";

// Ù…Ù† 5:30 Ø¥Ù„Ù‰ Ø£Ø°Ø§Ù† Ø§Ù„ÙØ¬Ø±
} else if (nowMinutes >= 330 && nowMinutes < fajrMinutes) {
  note.textContent = "â³ Ø§Ù‚ØªØ±Ø¨ ÙˆÙ‚Øª Ø§Ù„ÙØ¬Ø± â€” Ø¯Ù‚Ø§Ø¦Ù‚ ÙˆÙŠØ¨Ø¯Ø£ ÙŠÙˆÙ… Ø§Ù„Ø·Ø§Ø¹Ø©";

// Ù…Ù† Ø£Ø°Ø§Ù† Ø§Ù„ÙØ¬Ø± Ø¥Ù„Ù‰ 8:30
} else if (nowMinutes >= fajrMinutes && nowMinutes < 510) {
  note.textContent = "ğŸŒ… Ø¨Ø¹Ø¯ Ø§Ù„ÙØ¬Ø± â€” ØµØ¨Ø§Ø­ Ù…Ø¨Ø§Ø±ÙƒØŒ ØªÙ‚Ø¨Ù‘Ù„ Ø§Ù„Ù„Ù‡ Ø·Ø§Ø¹ØªÙƒ";

// Ù…Ù† 8:30 Ø¥Ù„Ù‰ 12:00
} else if (nowMinutes >= 510 && nowMinutes < 720) {
  note.textContent = "â˜€ï¸ ØµØ¨Ø§Ø­ Ù‡Ø§Ø¯Ø¦ â€” Ø§Ø°ÙƒØ± Ø§Ù„Ù„Ù‡ ÙˆØ§Ø¨Ø¯Ø£ ÙŠÙˆÙ…Ùƒ Ø¨Ù†ÙŠØ© ØµØ§Ø¯Ù‚Ø©";

// Ù…Ù† 12:00 Ø¥Ù„Ù‰ Ø£Ø°Ø§Ù† Ø§Ù„Ø¸Ù‡Ø±
} else if (nowMinutes >= 720 && nowMinutes < dhuhrMinutes) {
  note.textContent = "ğŸ•°ï¸ Ø§Ù‚ØªØ±Ø¨ Ø£Ø°Ø§Ù† Ø§Ù„Ø¸Ù‡Ø± â€” Ø§Ø³ØªØ¹Ø¯ Ù„Ù„Ù‚Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø©";

// Ù…Ù† Ø£Ø°Ø§Ù† Ø§Ù„Ø¸Ù‡Ø± Ø¥Ù„Ù‰ 4:30
} else if (nowMinutes >= dhuhrMinutes && nowMinutes < 990) {
  note.textContent = "ğŸŒ¿ Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¸Ù‡Ø± â€” Ø§Ù„ØµØ¨Ø± Ø¹Ø¨Ø§Ø¯Ø©ØŒ ÙˆÙƒÙ„ Ù„Ø­Ø¸Ø© ØªÙÙƒØªØ¨ Ø£Ø¬Ø±Ù‹Ø§";

// Ù…Ù† 4:30 Ø¥Ù„Ù‰ Ø£Ø°Ø§Ù† Ø§Ù„Ø¹ØµØ±
} else if (nowMinutes >= 990 && nowMinutes < asrMinutes) {
  note.textContent = "â³ Ø§Ù‚ØªØ±Ø¨ ÙˆÙ‚Øª Ø§Ù„Ø¹ØµØ± â€” Ø¬Ø¯Ù‘Ø¯ Ù†ÙŠØªÙƒ ÙˆØ£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ø°ÙƒØ±";

// Ù…Ù† Ø£Ø°Ø§Ù† Ø§Ù„Ø¹ØµØ± Ø¥Ù„Ù‰ Ø§Ù„Ù…ØºØ±Ø¨
} else if (nowMinutes >= asrMinutes && nowMinutes < maghribMinutes) {
  note.textContent = "ğŸ¤² Ù„Ù… ÙŠØªØ¨Ù‚Ù‘Ù Ø¥Ù„Ø§ Ø§Ù„Ù‚Ù„ÙŠÙ„ â€” Ø³Ù„ ØµÙŠØ§Ù…Ùƒ Ø¨Ø°ÙƒØ± Ø§Ù„Ù„Ù‡";

// Ù…Ù† Ø§Ù„Ù…ØºØ±Ø¨ Ø¥Ù„Ù‰ 12:00 Ù„ÙŠÙ„Ù‹Ø§
} else {
  note.textContent = "ğŸŒ™ ØµØ­Ø© ÙØ·ÙˆØ±Ùƒ â€” ØªÙ‚Ø¨Ù‘Ù„ Ø§Ù„Ù„Ù‡ ØµÙŠØ§Ù…Ùƒ";
}
} // âœ… Ø¥ØºÙ„Ø§Ù‚ Ø¯Ø§Ù„Ø© update

update();
setInterval(update,1000);
}

// Lightbox
function initLightbox(){
  const imgs = document.querySelectorAll(".images-box img");
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");

  imgs.forEach(img=>{
    img.addEventListener("click", ()=>{
      lightbox.style.display="flex";
      lightboxImg.src = img.src;
    });
  });
}
const SCRIPT_URL = "Ø¶Ø¹ Ù‡Ù†Ø§ Ø±Ø§Ø¨Ø· Web App Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ"; // Ø±Ø§Ø¨Ø· Google Apps Script

// ===== ØªØ³Ø¬ÙŠÙ„ Ø£ÙˆÙ„ Ø²ÙŠØ§Ø±Ø© + Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø© + Ù†Ù‚Ø§Ø· Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© =====
function trackVisit() {
  const today = new Date().toLocaleDateString("ar-EG");
  let visitDays = JSON.parse(localStorage.getItem("visit_days") || "[]");
  let userPoints = Number(localStorage.getItem("user_points") || 0);

  if (!visitDays.includes(today)) {
    visitDays.push(today);
    localStorage.setItem("visit_days", JSON.stringify(visitDays));

    // Ù†Ù‚Ø·Ø© Ø¯Ø®ÙˆÙ„ ÙˆØ§Ø­Ø¯Ø© ÙŠÙˆÙ…ÙŠÙ‹Ø§
    userPoints += 1;
    localStorage.setItem("user_points", userPoints);
  }

  // Ø­ÙØ¸ Ø£ÙˆÙ„ Ø²ÙŠØ§Ø±Ø©
  if (!localStorage.getItem("first_visit_date")) {
    localStorage.setItem("first_visit_date", today);
  }

  // ØªØ­Ø¯ÙŠØ« Ø¢Ø®Ø± Ø²ÙŠØ§Ø±Ø©
  localStorage.setItem("last_visit_date", today);

  // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø´ÙŠØªØ³
  sendDataToSheet({
    name: localStorage.getItem(STORAGE_KEY) || "Ø²Ø§Ø¦Ø± Ù…Ø¬Ù‡ÙˆÙ„",
    first_visit: localStorage.getItem("first_visit_date"),
    last_visit: today,
    user_points: userPoints
  });
}

// ===== Ø²Ø± ÙˆØ±Ø¯ Ø§Ù„ÙŠÙˆÙ… â€“ Ù†Ù‚Ø·Ø© ÙˆØ§Ø­Ø¯Ø© ÙŠÙˆÙ…ÙŠÙ‹Ø§ + Ø³Ø¬Ù„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² + Ø±Ø³Ø§Ø¦Ù„ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© =====
function markWirdDone() {
  const today = new Date().toDateString();
  const btn = document.getElementById("wirdBtn");
  const messageDiv = document.getElementById("wirdMessage");

  // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„ÙŠÙˆÙ…
  if(localStorage.getItem("wird_done") === today){
    return; // Ù„Ø§ Ù†ÙØ¹Ù„ Ø´ÙŠØ¦Ù‹Ø§ Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²
  }

  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„ÙŠÙˆÙ…
  localStorage.setItem("wird_done", today);

  // ØªØ­Ø¯ÙŠØ« Ø³Ø¬Ù„ Ø§Ù„Ø£ÙŠØ§Ù…
  let achievementDays = JSON.parse(localStorage.getItem("achievement_days") || "[]");
  if(!achievementDays.includes(today)){
    achievementDays.push(today);
    localStorage.setItem("achievement_days", JSON.stringify(achievementDays));
  }
  const days = achievementDays.length;

  // Ø²ÙŠØ§Ø¯Ø© Ù†Ù‚Ø·Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
  let userPoints = Number(localStorage.getItem("user_points") || 0);
  userPoints += 1;
  localStorage.setItem("user_points", userPoints);

  // ØªØºÙŠÙŠØ± Ø§Ù„Ø²Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ·
  if(btn){
    btn.textContent = "âœ… Ø£Ø­Ø³Ù†ØªØŒ ØªÙ‚Ø¨Ù‘Ù„ Ø§Ù„Ù„Ù‡";
    btn.classList.add("done");
    btn.disabled = true;
  }

  // Ø±Ø³Ø§Ø¦Ù„ Ø®Ø§ØµØ© Ù„ÙƒÙ„ ÙŠÙˆÙ…
  const specialMessages = {
    5:  "ğŸŒŸ Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ Ø¹Ù„Ù‰ Ø§Ù†Ø¶Ø¨Ø§Ø·Ùƒ! Ø¨Ø¯Ø§ÙŠØ© Ø±Ø§Ø¦Ø¹Ø© ğŸ¤",
    10: "ğŸ’ª Ø¹Ø´Ø±Ø© Ø£ÙŠØ§Ù… Ø¥Ù†Ø¬Ø§Ø²! Ø§Ø³ØªÙ…Ø±ØŒ Ø£Ù†Øª ØªØ¨Ù†ÙŠ Ø¹Ø§Ø¯Ø© Ø¬Ù…ÙŠÙ„Ø©",
    15: "ğŸ”¥ 15 ÙŠÙˆÙ…Ù‹Ø§ Ù…Ù† Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…! Ù‡Ø°Ø§ Ø§Ø¬ØªÙ‡Ø§Ø¯ ÙŠÙÙØªØ®Ø± Ø¨Ù‡",
    20: "ğŸ† 20 ÙŠÙˆÙ… Ø¥Ù†Ø¬Ø§Ø²! Ù…Ø³ØªÙˆÙ‰ Ø¹Ø§Ù„ÙŠ Ø¬Ø¯Ù‹Ø§ØŒ Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ",
    25: "ğŸ‘‘ 25 ÙŠÙˆÙ…Ù‹Ø§! ÙˆØµÙ„Øª Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø®Ø¨Ø©ØŒ Ø¬Ø¹Ù„Ù‡ Ø§Ù„Ù„Ù‡ ÙÙŠ Ù…ÙŠØ²Ø§Ù† Ø­Ø³Ù†Ø§ØªÙƒ"
  };

  const dailyMessages = [
    "ğŸ¤ Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒØŒ ÙˆØ§ØµÙ„ ÙˆÙ„Ø§ ØªØªÙˆÙ‚Ù",
    "ğŸŒ± Ø®Ø·ÙˆØ© ØµØºÙŠØ±Ø© Ø§Ù„ÙŠÙˆÙ…ØŒ Ø£Ø«Ø± Ø¹Ø¸ÙŠÙ… ØºØ¯Ù‹Ø§",
    "âœ¨ Ø¥Ù†Ø¬Ø§Ø²Ùƒ Ø§Ù„ÙŠÙˆÙ… Ù†ÙˆØ± ÙÙŠ Ø·Ø±ÙŠÙ‚Ùƒ",
    "ğŸŒ¸ Ø£Ø­Ø³Ù†ØªØŒ Ø§Ù„Ù„Ù‡ ÙŠÙƒØªØ¨ Ø£Ø¬Ø±Ùƒ",
    "ğŸ“– Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù‡Ùˆ Ø³Ø± Ø§Ù„ØªÙˆÙÙŠÙ‚",
    "ğŸ’« Ø£Ù†Øª Ø±Ø§Ø¦Ø¹ Ø§Ù„ÙŠÙˆÙ…ØŒ ÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ‡Ø§Ø¯",
    "ğŸŒŸ ÙƒÙ„ ÙŠÙˆÙ… Ù‡Ùˆ ÙØ±ØµØ© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø®ÙŠØ±",
    "ğŸŒ¿ Ø§Ø¬Ø¹Ù„ Ø§Ù„ÙŠÙˆÙ… Ù…Ù…ÙŠØ²Ù‹Ø§ Ø¨Ù†ÙŠØ© ØµØ§Ø¯Ù‚Ø©",
    "ğŸ¯ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ ÙŠØ¨Ù†ÙŠ Ø¹Ø§Ø¯Ø© Ù‚ÙˆÙŠØ©",
    "ğŸŒ¼ Ø£Ø­Ø³Ù†ØªØŒ Ø§Ù„Ù„Ù‡ ÙŠØ²ÙŠØ¯Ùƒ Ø£Ø¬Ø±Ù‹Ø§ ÙˆÙØ¶Ù„Ù‹Ø§"
  ];

  // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
  if(specialMessages[days]){
    messageDiv.textContent = specialMessages[days];
  } else {
    const index = (days - 1) % dailyMessages.length;
    messageDiv.textContent = dailyMessages[index];
  }

  // ØªØµÙ…ÙŠÙ… Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø«Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
  messageDiv.style.fontFamily = "'Tajawal', sans-serif";
  messageDiv.style.fontSize = "15px";
  messageDiv.style.color = "#4b3b2a";
  messageDiv.style.marginTop = "5px";

  // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø´ÙŠØªØ³
  sendDataToSheet({
    name: localStorage.getItem(STORAGE_KEY) || "Ø²Ø§Ø¦Ø± Ù…Ø¬Ù‡ÙˆÙ„",
    last_visit: today,
    user_points: userPoints,
    achievement_days: days
  });
}

// ===== ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© ÙˆØ±Ø¯ Ø§Ù„ÙŠÙˆÙ… Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© =====
function checkWirdStatus(){
  const today = new Date().toDateString();
  const btn = document.getElementById("wirdBtn");
  const messageDiv = document.getElementById("wirdMessage");

  let achievementDays = JSON.parse(localStorage.getItem("achievement_days") || "[]");
  const days = achievementDays.length;

  if(localStorage.getItem("wird_done") === today && btn){
    btn.textContent = "âœ… Ø£Ø­Ø³Ù†ØªØŒ ØªÙ‚Ø¨Ù‘Ù„ Ø§Ù„Ù„Ù‡";
    btn.classList.add("done");
    btn.disabled = true;

    // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø³Ø§Ø¨Ù‚Ù‹Ø§ Ø§Ù„ÙŠÙˆÙ…
    const specialMessages = {
      5:  "ğŸŒŸ Ø´ÙƒØ±Ù‹Ø§ Ù„Ùƒ Ø¹Ù„Ù‰ Ø§Ù†Ø¶Ø¨Ø§Ø·Ùƒ! Ø¨Ø¯Ø§ÙŠØ© Ø±Ø§Ø¦Ø¹Ø© ğŸ¤",
      10: "ğŸ’ª Ø¹Ø´Ø±Ø© Ø£ÙŠØ§Ù… Ø¥Ù†Ø¬Ø§Ø²! Ø§Ø³ØªÙ…Ø±ØŒ Ø£Ù†Øª ØªØ¨Ù†ÙŠ Ø¹Ø§Ø¯Ø© Ø¬Ù…ÙŠÙ„Ø©",
      15: "ğŸ”¥ 15 ÙŠÙˆÙ…Ù‹Ø§ Ù…Ù† Ø§Ù„Ø§Ù„ØªØ²Ø§Ù…! Ù‡Ø°Ø§ Ø§Ø¬ØªÙ‡Ø§Ø¯ ÙŠÙÙØªØ®Ø± Ø¨Ù‡",
      20: "ğŸ† 20 ÙŠÙˆÙ… Ø¥Ù†Ø¬Ø§Ø²! Ù…Ø³ØªÙˆÙ‰ Ø¹Ø§Ù„ÙŠ Ø¬Ø¯Ù‹Ø§ØŒ Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ",
      25: "ğŸ‘‘ 25 ÙŠÙˆÙ…Ù‹Ø§! ÙˆØµÙ„Øª Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø®Ø¨Ø©ØŒ Ø¬Ø¹Ù„Ù‡ Ø§Ù„Ù„Ù‡ ÙÙŠ Ù…ÙŠØ²Ø§Ù† Ø­Ø³Ù†Ø§ØªÙƒ"
    };
    const dailyMessages = [
      "ğŸ¤ Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒØŒ ÙˆØ§ØµÙ„ ÙˆÙ„Ø§ ØªØªÙˆÙ‚Ù",
      "ğŸŒ± Ø®Ø·ÙˆØ© ØµØºÙŠØ±Ø© Ø§Ù„ÙŠÙˆÙ…ØŒ Ø£Ø«Ø± Ø¹Ø¸ÙŠÙ… ØºØ¯Ù‹Ø§",
      "âœ¨ Ø¥Ù†Ø¬Ø§Ø²Ùƒ Ø§Ù„ÙŠÙˆÙ… Ù†ÙˆØ± ÙÙŠ Ø·Ø±ÙŠÙ‚Ùƒ",
      "ğŸŒ¸ Ø£Ø­Ø³Ù†ØªØŒ Ø§Ù„Ù„Ù‡ ÙŠÙƒØªØ¨ Ø£Ø¬Ø±Ùƒ",
      "ğŸ“– Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù‡Ùˆ Ø³Ø± Ø§Ù„ØªÙˆÙÙŠÙ‚",
      "ğŸ’« Ø£Ù†Øª Ø±Ø§Ø¦Ø¹ Ø§Ù„ÙŠÙˆÙ…ØŒ ÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ‡Ø§Ø¯",
      "ğŸŒŸ ÙƒÙ„ ÙŠÙˆÙ… Ù‡Ùˆ ÙØ±ØµØ© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø®ÙŠØ±",
      "ğŸŒ¿ Ø§Ø¬Ø¹Ù„ Ø§Ù„ÙŠÙˆÙ… Ù…Ù…ÙŠØ²Ù‹Ø§ Ø¨Ù†ÙŠØ© ØµØ§Ø¯Ù‚Ø©",
      "ğŸ¯ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ ÙŠØ¨Ù†ÙŠ Ø¹Ø§Ø¯Ø© Ù‚ÙˆÙŠØ©",
      "ğŸŒ¼ Ø£Ø­Ø³Ù†ØªØŒ Ø§Ù„Ù„Ù‡ ÙŠØ²ÙŠØ¯Ùƒ Ø£Ø¬Ø±Ù‹Ø§ ÙˆÙØ¶Ù„Ù‹Ø§"
    ];

    if(specialMessages[days]){
      messageDiv.textContent = specialMessages[days];
    } else if(days>0){
      const index = (days - 1) % dailyMessages.length;
      messageDiv.textContent = dailyMessages[index];
    }

    // ØªØµÙ…ÙŠÙ… Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø«Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
    messageDiv.style.fontFamily = "'Tajawal', sans-serif";
    messageDiv.style.fontSize = "15px";
    messageDiv.style.color = "#4b3b2a";
    messageDiv.style.marginTop = "5px";
  }
}

// â† Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
checkWirdStatus();


// ===== Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Google Sheets =====
function sendDataToSheet(data){
  const payload = {
    name: localStorage.getItem(STORAGE_KEY) || "Ø²Ø§Ø¦Ø± Ù…Ø¬Ù‡ÙˆÙ„",
    user_id: getUserId(),
    first_visit: localStorage.getItem("first_visit_date") || new Date().toLocaleString("ar-EG"),
    last_visit: new Date().toLocaleString("ar-EG"),
    page_points: Number(localStorage.getItem("user_points") || 0),
    achievement_points: JSON.parse(localStorage.getItem("achievement_days") || "[]").length
    // Ù„Ø§ Ù†Ø±Ø³Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‡Ù†Ø§ Ù„Ø£Ù†Ù‡Ø§ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ø¹ÙŠØ¯ ÙÙ‚Ø·
  };

  fetch(SCRIPT_URL + "?callback=handleResponse&" + new URLSearchParams(payload), {
    method: "GET",
    mode: "no-cors"
  }).catch(err => console.log("Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø´ÙŠØªØ³:", err));
}

function checkWirdStatus(){
  const today = new Date().toDateString();
  const saved = localStorage.getItem("wird_done");
  const btn = document.getElementById("wirdBtn");

  if(saved === today && btn){
    btn.classList.add("done");
    btn.textContent = "âœ… Ø£Ø­Ø³Ù†ØªØŒ ØªÙ‚Ø¨Ù‘Ù„ Ø§Ù„Ù„Ù‡";
    btn.disabled = true;
  }
}

  checkWirdStatus(); // â† Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§
  
  // ===== Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹ÙŠØ¯ =====
const eidTargetDate = new Date("2026-02-28T18:55:00"); 
// â†‘ ØºÙŠÙ‘Ø± Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª Ù‡Ù†Ø§ ÙÙ‚Ø·

function startEidCounter(){
  function updateEid(){
    const now = new Date();
    const diff = eidTargetDate - now;


  // âœ… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­Ø© Ø§Ù„Ø¹ÙŠØ¯
  if(diff <= 0){
  localStorage.setItem("eid_ready", "1");
  // Ù„Ø§ ØªØ­ÙˆÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ
  }

    const totalSeconds = Math.floor(diff / 1000);
    const seconds = totalSeconds % 60;
    const totalMinutes = Math.floor(totalSeconds / 60);
    const minutes = totalMinutes % 60;
    const totalHours = Math.floor(totalMinutes / 60);
    const hours = totalHours % 24;
    const days = Math.floor(totalHours / 24);

    document.getElementById("eidSeconds").textContent = String(seconds).padStart(2,"0");
    document.getElementById("eidMinutes").textContent = String(minutes).padStart(2,"0");
    document.getElementById("eidHours").textContent = String(hours).padStart(2,"0");
    document.getElementById("eidDays").textContent = String(days).padStart(2,"0");
  }

  updateEid();
  setInterval(updateEid,1000);
}
  window.onload = () => {
  const savedName = localStorage.getItem(STORAGE_KEY);
  
  if (savedName) {
    showWelcome(savedName, false); // Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¥Ø°Ø§ Ø§Ù„Ø§Ø³Ù… Ù…Ø­ÙÙˆØ¸
  }

  trackVisit();      // ØªØ³Ø¬ÙŠÙ„ Ø£ÙˆÙ„ ÙˆØ¢Ø®Ø± Ø²ÙŠØ§Ø±Ø© + Ù†Ù‚Ø§Ø· Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
  checkWirdStatus(); // Ø­Ø§Ù„Ø© Ø²Ø± ÙˆØ±Ø¯ Ø§Ù„ÙŠÙˆÙ…

  startCounter();    // Ø¨Ø¯Ø¡ Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµÙ„ÙˆØ§Øª
  initLightbox();    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙˆØ± Ù„Ù„ØªÙƒØ¨ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·
  startEidCounter(); // Ø¨Ø¯Ø¡ Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹ÙŠØ¯
};
</script>

</body>
</html>
