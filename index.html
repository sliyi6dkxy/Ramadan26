<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Arial', sans-serif;
      background: linear-gradient(180deg, #0f2027, #203a43, #2c5364);
      color: #ffffff;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .container {
      width: 90%;
      max-width: 500px;
    }

    .fade-in {
      animation: fadeSlide 1.2s ease forwards;
    }

    @keyframes fadeSlide {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .welcome-text {
      font-size: 22px;
      line-height: 1.8;
      margin-bottom: 25px;
    }

    .name-input {
      width: 100%;
      padding: 14px;
      font-size: 16px;
      border-radius: 30px;
      border: none;
      outline: none;
      text-align: center;
    }

    .save-btn {
      margin-top: 15px;
      padding: 12px 30px;
      border-radius: 30px;
      border: none;
      background-color: #f1c27d;
      color: #000;
      font-size: 16px;
      cursor: pointer;
    }

    .save-btn:hover {
      background-color: #e0b468;
    }

    .hidden {
      display: none;
    }

    .date {
      margin-top: 10px;
      font-size: 14px;
      opacity: 0.7;
    }
  </style>
</head>
<body>

<div class="container">

  <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³Ù… -->
  <div id="registerBox" class="fade-in">
    <div class="welcome-text">
      Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ğŸŒ™  
      <br>
      Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„ØªØµÙ„Ùƒ ØªØ°ÙƒØ±Ø© ÙŠÙˆÙ…ÙŠØ© Ø®ÙÙŠÙØ© ØªØ±Ø§ÙÙ‚Ùƒ ÙÙŠ Ø±Ù…Ø¶Ø§Ù†
    </div>
    <input id="nameInput" class="name-input" type="text" placeholder="Ø§Ø³Ù…Ùƒ ÙƒÙ…Ø§ ØªØ­Ø¨">
    <br>
    <button class="save-btn" onclick="saveName()">Ù…ØªØ§Ø¨Ø¹Ø©</button>
  </div>

  <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ -->
  <div id="welcomeBox" class="hidden">
    <div id="welcomeMessage" class="welcome-text fade-in"></div>
    <div class="date">Ø§Ù„ÙŠÙˆÙ…: ØªØ§Ø±ÙŠØ® Ù‡Ø¬Ø±ÙŠ (Ø³ÙŠÙÙØ¹Ù„ Ù„Ø§Ø­Ù‚Ù‹Ø§)</div>
  </div>

</div>

<script>
  const registerBox = document.getElementById("registerBox");
  const welcomeBox = document.getElementById("welcomeBox");
  const welcomeMessage = document.getElementById("welcomeMessage");

  const storedName = localStorage.getItem("ramadan_name");
  const userId = localStorage.getItem("ramadan_uid");

  if (storedName && userId) {
    showWelcome(storedName);
  }

  function saveName() {
    const name = document.getElementById("nameInput").value.trim();
    if (!name) return;

    const uid = "U-" + Date.now() + "-" + Math.floor(Math.random() * 1000);

    localStorage.setItem("ramadan_name", name);
    localStorage.setItem("ramadan_uid", uid);

    // â¬‡ï¸ Ù‡Ù†Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ù†Ø±Ø¨Ø· Google Sheets
    // sendToSheet(name, uid);

    showWelcome(name);
  }

  function showWelcome(name) {
    registerBox.classList.add("hidden");
    welcomeBox.classList.remove("hidden");

    welcomeMessage.innerHTML = `
      Ù…Ø±Ø­Ø¨Ù‹Ø§ ÙŠØ§ ${name} ğŸ¤  
      <br>
      Ù†Ø³Ø£Ù„ Ø§Ù„Ù„Ù‡ Ø£Ù† ÙŠØ¬Ø¹Ù„ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… Ù„Ùƒ Ù‚ÙØ±Ø¨Ù‹Ø§ ÙˆØ·Ù…Ø£Ù†ÙŠÙ†Ø©
    `;
  }

  // Ù…Ø«Ø§Ù„ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø±Ø¨Ø· Ù„Ø§Ø­Ù‚Ù‹Ø§
  /*
  function sendToSheet(name, uid) {
    fetch("PUT_YOUR_GOOGLE_SCRIPT_URL_HERE", {
      method: "POST",
      body: JSON.stringify({
        name: name,
        uid: uid,
        type: "first_login"
      })
    });
  }
  */
</script>

</body>
</html>
