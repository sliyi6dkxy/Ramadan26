<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù†</title>

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Tajawal', sans-serif;
  background:#fbf6e8;
  color:#4b3b2a;
  min-height:100vh;
  text-align:center;
}

.container{
  max-width:420px;
  margin:0 auto;
  padding:20px 18px 24px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
}

/* ===== Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¯Ø®ÙˆÙ„ Ø§Ù„ØµÙØ­Ø© ===== */
.page-enter{
  animation:pageEnter .9s ease-out;
}
@keyframes pageEnter{
  from{opacity:0; transform:translateY(25px);}
  to{opacity:1; transform:translateY(0);}
}

/* Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
.message{
  margin-bottom:22px;
  text-align:center;
}
.message .moon{
  font-size:27px;
  margin-bottom:6px;
  display:inline-block;
  animation:moonFloat 2s ease-in-out infinite alternate;
}
@keyframes moonFloat{
  0%{transform:translateY(0);}
  50%{transform:translateY(-8px);}
  100%{transform:translateY(0);}
}
.message h1{font-size:24px;font-weight:600;margin:6px 0;}
.message p{font-size:17px;line-height:1.7;margin:0;opacity:.9;}

/* Ø§Ù„ØªØ³Ø¬ÙŠÙ„ */
.register-box{margin-top:14px;}
.register-box .subtitle{font-size:16.5px;line-height:1.8;margin-bottom:18px;}
.input-group{display:flex;gap:10px;}
input{
  flex:1;
  padding:12px 16px;
  font-size:15.5px;
  border-radius:20px;
  border:1px solid #d6c6a5;
  outline:none;
}
button{
  padding:12px 18px;
  font-size:15.5px;
  border-radius:20px;
  border:none;
  background:#7a9b7e;
  color:white;
  cursor:pointer;
}
button:hover{background:#688c6d;}
.hidden{display:none;}

/* Ø§Ù„Ø¹Ø¯Ø§Ø¯ */
.counter-box{
  background:#fff;
  border-radius:16px;
  padding:14px 12px;
  margin:10px 0 20px;
  box-shadow:0 5px 12px rgba(0,0,0,.06);
}
.counter-title{font-size:15.5px;margin-bottom:4px;}
.counter-time{font-size:22px;font-weight:600;letter-spacing:2px;margin:6px 0;}
.counter-note{font-size:14.5px;opacity:.9;}

/* ÙØ§ØµÙ„ */
.section-separator{margin:30px 0 24px;}
.separator-bg{
  height:50px;
  width:220px;
  margin:auto;
  border-radius:25px;
  background:linear-gradient(270deg,#7a9b7e,#a7c4a0,#7a9b7e);
  background-size:600% 600%;
  animation:gradientShift 6s ease infinite;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 5px 15px rgba(0,0,0,.15);
}
@keyframes gradientShift{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
.separator-text{color:#fff;font-weight:600;font-size:16px;}

/* ÙˆØ±Ø¯ Ø§Ù„ÙŠÙˆÙ… */
.wird-box,
.hadith-box{
  background:#fff;
  border-radius:16px;
  padding:10px 14px;
  margin-bottom:20px;
  box-shadow:0 4px 10px rgba(0,0,0,.05);
  display:inline-block;
  max-width:100%;
  line-height:1.5;
  font-size:15px;
}

/* Ø§Ù„ØµÙˆØ± */
.images-box{display:flex;gap:10px;justify-content:center;margin-bottom:6px;}
.images-box img{
  width:48%;
  border-radius:14px;
  cursor:pointer;
  transition:transform .3s;
}
.images-box img:hover{transform:scale(1.05);}
.image-note{font-size:13px;color:#666;margin-bottom:18px;}

/* Lightbox */
#lightbox{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.8);
  justify-content:center;
  align-items:center;
  z-index:9999;
}
#lightbox img{
  max-width:90%;
  max-height:90%;
  border-radius:10px;
}
</style>
</head>

<body>

<div class="container">

  <div id="registerBox">
    <div class="message">
      <div class="moon">ğŸŒ™</div>
      <h1>Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…</h1>
      <p>Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„ÙŠØµÙ„Ùƒ ÙƒÙ„ Ø¬Ø¯ÙŠØ¯ ÙŠÙˆÙ…ÙŠÙ‹Ø§ Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ</p>
    </div>

    <div class="register-box">
      <div class="subtitle">Ù…ØªØ§Ø¨Ø¹Ø© Ø®ÙÙŠÙØ© â€¢ ØªØ°ÙƒÙŠØ± â€¢ Ø£Ø¬Ø± Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡</div>
      <div class="input-group">
        <input type="text" id="username" placeholder="Ø§Ø³Ù…Ùƒ">
        <button onclick="saveName()">Ù…ØªØ§Ø¨Ø¹Ø©</button>
      </div>
    </div>
  </div>

  <div id="welcomeBox" class="hidden"></div>
</div>

<div id="lightbox" onclick="this.style.display='none'">
  <img id="lightbox-img">
</div>

<script>
const STORAGE_KEY="ramadan_user_name";
const FAJR_TIME="05:52";
const MAGHRIB_TIME="18:40";

function saveName(){
  const name=document.getElementById("username").value.trim();
  if(!name)return;
  localStorage.setItem(STORAGE_KEY,name);
  showWelcome(name,true);
}

function showWelcome(name,firstTime){
  document.getElementById("registerBox").classList.add("hidden");
  const box=document.getElementById("welcomeBox");
  box.classList.remove("hidden");

  if(firstTime){
    box.classList.add("page-enter");
  }

  box.innerHTML=`
    <div class="message">
      <div class="moon">ğŸŒ™</div>
      <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ ${name}</h1>
      <p>Ù†Ø³Ø£Ù„ Ø§Ù„Ù„Ù‡ Ø£Ù† ÙŠÙƒØªØ¨ Ù„Ùƒ Ø§Ù„Ø£Ø¬Ø± Ø§Ù„ÙŠÙˆÙ…</p>
    </div>

    <div class="counter-box">
      <div class="counter-title" id="counterTitle"></div>
      <div class="counter-time" id="counterTime"></div>
      <div class="counter-note" id="counterNote"></div>
    </div>

    <div class="section-separator">
      <div class="separator-bg">
        <span class="separator-text">âœ¨ Ù„Ø­Ø¸Ø§Øª Ù…Ø¨Ø§Ø±ÙƒØ©â€¦ 3 Ø¯Ù‚Ø§Ø¦Ù‚ Ù…Ù† ÙˆÙ‚ØªÙƒ</span>
      </div>
    </div>

    <div class="wird-box">
      ğŸ“– ÙˆØ±Ø¯ Ø§Ù„ÙŠÙˆÙ…<br>
      Ø§Ø¬Ø¹Ù„ Ù„Ùƒ Ù„Ø­Ø¸Ø© Ù‡Ø§Ø¯Ø¦Ø© Ù…Ø¹ Ø§Ù„Ù‚Ø±Ø¢Ù†
    </div>

    <div class="images-box">
      <img src="https://images.unsplash.com/photo-1542816417-0983c9c9ad53">
      <img src="https://images.unsplash.com/photo-1509021436665-8f07dbf5bf1d">
    </div>
    <div class="image-note">Ø§Ø¶ØºØ· Ù„Ù„ØªÙƒØ¨ÙŠØ±</div>

    <div class="hadith-box">
      Ù‚Ø§Ù„ ï·º:<br>
      Â«Ø§Ù‚Ø±Ø¤ÙˆØ§ Ø§Ù„Ù‚Ø±Ø¢Ù† ÙØ¥Ù†Ù‡ ÙŠØ£ØªÙŠ Ø´ÙÙŠØ¹Ù‹Ø§ Ù„Ø£ØµØ­Ø§Ø¨Ù‡Â»
    </div>
  `;
  startCounter();
  initLightbox();
}

function startCounter(){
  const title=document.getElementById("counterTitle");
  const time=document.getElementById("counterTime");
  const note=document.getElementById("counterNote");

  function update(){
    const now=new Date();
    const [fh,fm]=FAJR_TIME.split(":").map(Number);
    const [mh,mm]=MAGHRIB_TIME.split(":").map(Number);

    const today=new Date();
    const fajr=new Date(today.getFullYear(),today.getMonth(),today.getDate(),fh,fm);
    const maghrib=new Date(today.getFullYear(),today.getMonth(),today.getDate(),mh,mm);

    let target;
    if(now<fajr){target=fajr;title.textContent="ğŸŒ™ Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙØ¬Ø±";}
    else if(now<maghrib){target=maghrib;title.textContent="â³ Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ØºØ±Ø¨";}
    else{target=new Date(today.getFullYear(),today.getMonth(),today.getDate()+1,fh,fm);title.textContent="ğŸŒ™ Ù…ØªØ¨Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙØ¬Ø±";}

    const d=target-now;
    time.textContent=
      String(Math.floor(d/3600000)).padStart(2,"0")+" : "+
      String(Math.floor(d%3600000/60000)).padStart(2,"0")+" : "+
      String(Math.floor(d%60000/1000)).padStart(2,"0");

    note.textContent="Ø°ÙƒØ±ÙŒ ÙŠØ±ÙØ¹Ùƒ Ø¹Ù†Ø¯ Ø§Ù„Ù„Ù‡";
  }
  update();
  setInterval(update,1000);
}

function initLightbox(){
  document.querySelectorAll(".images-box img").forEach(img=>{
    img.onclick=()=>{
      document.getElementById("lightbox").style.display="flex";
      document.getElementById("lightbox-img").src=img.src;
    }
  });
}

window.onload=()=>{
  const saved=localStorage.getItem(STORAGE_KEY);
  if(saved)showWelcome(saved,false);
};
</script>

</body>
</html>
